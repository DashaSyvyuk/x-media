{% extends "base.html.twig" %}

{% block javascripts %}
    {{ encore_entry_script_tags('home') }}
    {{ encore_entry_script_tags('product') }}
    {{ encore_entry_script_tags('cart') }}
{% endblock %}

{% block body %}

    <header>
        {% include 'partials/header.html.twig' %}
    </header>

    <section class="category product-page">
        <div class="category-title">{{ product.title }}</div>

        <div class="breadcrumb">
            <a href="/">Головна</a>
            <span>/</span>
            <a href="/categories/{{ product.getCategory().slug }}">&nbsp{{ product.getCategory().title }}</a>
            <span>/</span>
            <a href="" class="selected">{{ product.title }}</a>
        </div>

        <div class="images">
            <div class="list">
                <div class="inner">
                    {% for image in product.getImages() %}
                        <img src="/{{ image.imageUrl }}" {% if loop.first %}class="active"{% endif %}>
                    {% endfor %}
                </div>
            </div>
            <div class="main">
                <img src="/{{ product.getImages()[0].imageUrl }}">
            </div>
        </div>

        <div class="detail">
            <div class="attributes">
                {% for attribute in product.getFilterAttributes() %}
                    <div class="attribute">
                        <div class="title">{{ attribute.getFilter().getTitle() }}</div>
                        <div class="value">{{ attribute.getFilterAttribute().getValue() }}</div>
                    </div>
                {% endfor %}
            </div>
            <div class="price">{{ product.getPrice() }} грн</div>
            <div class="add2cart">
                <img src="/images/cart.png">
            </div>
        </div>

        <div class="tabs-place">
            <div class="tabs">
                <div class="tab active" data-tab="description">Опис товару</div>
                <div class="tab" data-tab="characteristics">Характеристики</div>
                <div class="tab" data-tab="reviews">Відгуки</div>
            </div>
            <div class="content">
                <div class="content-tab active" id="description">{{ product.getDescription()|raw }}</div>
                <div class="content-tab" id="characteristics">
                    <table>
                        {% for characteristic in product.getCharacteristics() %}
                        <tr>
                            <td>{{ characteristic.getTitle() }}</td>
                            <td>{{ characteristic.getValue() }}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
                <div class="content-tab" id="reviews">Відгуки</div>
            </div>
        </div>
    </section>

    <div id="product-preview">
        <div id="background"></div>
        <div class="products">
            {% for image in product.getImages() %}
                <div class="image">
                    <img src="/{{ image.imageUrl }}">
                </div>
            {% endfor %}
        </div>
    </div>

{% endblock %}
